<!DOCTYPE html>
<html>
<body>
  <head>
    <link rel="icon" href="./favicon.ico">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Engineer and Web Developer">
    <meta name="keywords" content="cad, cam, programming, dev">
    <meta name="author" content="Khiem G Luong">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="logo.css">
    <link rel="stylesheet" href="navbar.css">
    <link rel="stylesheet" href="loading.css">
    <link rel="stylesheet" href="protip.css">
    <link rel="stylesheet" href="textscrambler.css">
    <link rel="stylesheet" href="animatedtext.css">

    <title>i-COMIT</title>

  </head>

  <div id="loading">
    <div id="loading-text">
      LOADING
    </div>
  </div>



<img id="iCOMIT" src="icomitanimset/icomit0.jpg"></img>

<div class="container">
<a href="index.html"><img id="logo" src="indeximages/icomitlogowhite.png"></img>
</a>
<div id="protip">scroll or swipe</div>
<footer>
  <div class="text"></div>
</footer>

  <div class="overlay-navigation">
    <nav role="navigation">
      <ul>
        <li><a href="programming/programming.html">
          <p>
          <span>
            Programming
          </span>
        </p></a>
      </li>
        <li><a href="3ddesign/3ddesign.html">
          <p>
          <span>
            3D Design
          </span>
        </p></a>
      </li>
        <li><a href="webdesign/webdesign.html">
          <p>
          <span>
            Web Design
          </span>
        </p></a></li>
        <li><a href="./other/other.html">
          <p>
            <span>
              Other Work
            </span>
          </p></a></li>
        <li><a href = "contactme/contactme.html">
          <p>
            <span>
              About Me
            </span>
          </p>
        </a></li>
      </ul>
    </nav>
  </div>

  <section class="home">
    <div class="open-overlay">

      <span class="bar-top"></span>
      <span class="bar-middle"></span>
      <span class="bar-bottom"></span>
    </div>
  </section>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.0/jquery-ui.min.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

<script>
  document.getElementById("protip").addEventListener("wheel", startWeb);
  document.getElementById("protip").addEventListener("touchstart", startWeb);
function startWeb(){
    document.getElementById("protip").style.display = "none";
}
</script>

<script>
document.getElementById("iCOMIT").addEventListener("wheel", scrollWheel);
var score = 1
function scrollWheel() {

  if(score < 2 || score > 98)
    score = 2
	if (event.deltaY < 0)
	{
    score++
    imagenum = `icomitanimset/icomit${score}.jpg`
    $('#iCOMIT').attr('src', imagenum)
    document.getElementById("demo").style.transform = `translateY(${score * -15}px)`;
	}
	else if (event.deltaY > 0)
	{
    score--
    imagenum = `icomitanimset/icomit${score}.jpg`
    // $('body').css('backgroundImage', `url(${imagenum})`);
    $('#iCOMIT').attr('src', imagenum)
    document.getElementById("demo").style.transform = `translateY(${score * -15}px)`;
	}
}
</script>

<script>
let start = null;
swipescore = 1
document.getElementById("iCOMIT").addEventListener('touchstart', function(e) {
    start = e.changedTouches[0];
});
document.getElementById("iCOMIT").addEventListener('touchmove', function(e) {
  let end = e.changedTouches[0];
  if(swipescore < 2 || swipescore > 98)
    swipescore = 2

  if(end.screenY - start.screenY > 0)
  {
    swipescore--
    imagenum = `icomitanimset/icomit${swipescore}.jpg`
    $('#iCOMIT').attr('src', imagenum)
    document.getElementById("demo").style.transform = `translateY(${swipescore * -15}px)`;
  }
  else if(end.screenY - start.screenY < 0)
  {
    swipescore++
    imagenum = `icomitanimset/icomit${swipescore}.jpg`
    $('#iCOMIT').attr('src', imagenum)
    document.getElementById("demo").style.transform = `translateY(${swipescore * -15}px)`;
  }
});
</script>

<script  type='text/javascript'>
  $("document").ready(function(){
      $("#logo").hover(
          function() {$(this).attr("src","indeximages/icomitlogo.png");},
          function() {$(this).attr("src","indeximages/icomitlogowhite.png");
      });
  });
  </script>

<script src='https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.ui.min.js'></script>

<script src="./navbar.js"></script>
<script src="./textscrambler.babel"></script>
<script>
  window.addEventListener('load', function () {
    var el = document.getElementById('loading');
    el.remove()
    document.getElementById("protip").style.display = "block"

    var refreshId = setInterval(function(){
      if(score < 2 || score > 98)
      score = 2
      imagenum = `icomitanimset/icomit${score++}.jpg`
      $('#iCOMIT').attr('src', imagenum)
      if(document.getElementById("protip").style.display == "none"){
      clearInterval(refreshId)
    }
  },60);
});
</script>

<script>
  function preloadIter(){
    let numCounter = 0;
    let numArray = [];
    for(let i=0; i < 100; i++){
        numArray.push(`icomitanimset/icomit${numCounter++}.jpg`)
    };
    return numArray
}
</script>


<script>
function preload(arrayOfImages) {
    $(arrayOfImages).each(function(){
      $('<img/>')[0].src = this;
    });
}

preload(preloadIter());

</script>

</body>
</html>
